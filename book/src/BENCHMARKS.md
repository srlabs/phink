# Benchmarking

Benchmarking provides insights into Phink's performance in real-world scenarios, in order to vizualise its efficiency
and
fuzzing ink! smart contracts. Below are the benchmark results for various smart contracts, detailing
coverage, speed, corpus size, and the potential usage of `generate-seed`.
Each contract were fuzzed for maximum a day.
Statistics (especially *average speed*) are given for **one** core only. The coverage percent is calculated using the
number of
lines covered divided the number of reachable lines, as a percentage.

### Benchmarks

| Contract name | Coverage percent | Average speed (_execs/sec_)                        | AFL++ corpus size | Using Phink seed generation |
|---------------|------------------|----------------------------------------------------|-------------------|-----------------------------|
| abax_governor | **48%**          | 1500 (early phase) **and** 100 (late phase)        | 1639              | **NO** (no tests available) |
| erc1155       | **58%**          | 1300 (early phase phase) **and** todo (late phase) | 400               | **YES** (without E2E)       |
| multisig      | **91%**          | 113 (late phase)                                   | 1524              | **YES** (without E2E)       |

- Github for
  `abax_governor` : [AbaxFinance/dao-contracts/tree/main/src/contracts/abax_governor](https://github.com/AbaxFinance/dao-contracts/tree/main/src/contracts/abax_governor)
- Github for
  `multisig` : [use-ink/ink-examples/blob/main/multisig/lib.rs](https://github.com/use-ink/ink-examples/blob/main/multisig/lib.rs)
- Github for
  `erc1155` : [use-ink/ink-examples/blob/main/erc1155/lib.rs](https://github.com/use-ink/ink-examples/blob/main/erc1155/lib.rs)

#### Contracts

###### ERC-1155

> The ERC-1155 standard is a versatile framework designed to manage a diverse range of assets within a single contract.
> This contract type supports both fungible and non-fungible tokens, allowing for efficient and flexible asset
> management.
> One of the key features of the ERC-1155 contract is its ability to perform batch transfers, enabling multiple token
> transfers in a single transaction. This functionality simplifies complex operations and makes managing various tokens
> more streamlined and cost-effective. By combining multiple asset types, ERC-1155 provides developers with a powerful
> tool for creating diverse and dynamic digital environments.

###### Multisig Wallet

> The Multisig Wallet is a smart contract that facilitates collaborative decision-making among multiple owners. This
> example contract, inspired by the Gnosis multisig wallet, allows a group of owners to jointly manage and execute
> transactions. Each multisig wallet establishes a set number of required approvals from its owners to execute any
> proposed transaction, ensuring a democratic and secure management process. Although this implementation serves
> educational purposes and is not intended for production, it illustrates the importance of shared control and risk
> mitigation in decentralized financial operations.

###### AbaxGovernor

> The AbaxGovernor contract is centered around governance and participation through staking mechanisms. It allows users
> to
> stake the Abax token, a PSP22 token, in exchange for PSP22Vault shares, which are used as voting power or "votes."
> This
> contract facilitates the creation, proposal, and voting on governance decisions by leveraging the Govern trait. It
> includes various voting phases and uses the GeneralVest contract to manage unstaking after a specified period. The
> AbaxGovernor is particularly focused on ensuring responsible governance participation and enabling stakeholders to
> influence important protocol decisions through their voting power.

### Explanation of terms

- **Coverage**: Represents the percentage of the code that have been executed during the fuzzing campaign. Higher
  coverage
  indicates more thorough testing (_the higher the better_).

- **Average Speed (for 1 core)**: The number of executions per second that the fuzzer can handle on a single CPU core.
  This metric helps gauge Phink's performance efficiency. As a reminder of execution contains multiple calls, up to
  `max_messages_per_exec`.

- **AFL++ Corpus Size**: The size of the corpus generated by AFL++ during fuzzing. A larger
  corpus generally implies a diverse set of inputs to test the contract.

- **generate-seed usage**: Indicates whether `generate-seed` was used to seed the initial tests. This depends if the
  contract include tests within the contract.

### Environment details

- **CPU**: AMD EPYC 7282 16-Cores
- **Operating System**: Linux 5.4.0-189-generic #209-Ubuntu x86_64
- **Phink Version**: 0.1.4

### Contributing to the benchmarks

We encourage contributions to our benchmarks! If you have a contract you would like to see benchmarked, please submit a
pull request to our repository.